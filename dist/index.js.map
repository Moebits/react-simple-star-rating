{"version":3,"file":"index.js","sources":["../src/components/StarIcon.tsx","../src/reducer.ts","../src/components/Rating.tsx","../node_modules/style-inject/dist/style-inject.es.js"],"sourcesContent":["import React from 'react'\n\nexport interface StarIconProps {\n  /** Icon width / height in `px` */\n  size?: number\n  SVGstrokeColor?: string\n  SVGstorkeWidth?: string | number\n  SVGclassName?: string\n  SVGstyle?: React.CSSProperties\n}\n\nexport function StarIcon({\n  size = 25,\n  SVGstrokeColor = 'currentColor',\n  SVGstorkeWidth = 0,\n  SVGclassName = 'star-svg',\n  SVGstyle\n}: StarIconProps) {\n  return (\n    <svg\n      className={SVGclassName}\n      style={SVGstyle}\n      stroke={SVGstrokeColor}\n      fill='currentColor'\n      strokeWidth={SVGstorkeWidth}\n      viewBox='0 0 24 24'\n      width={size}\n      height={size}\n      xmlns='http://www.w3.org/2000/svg'\n    >\n      <path d='M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z'></path>\n    </svg>\n  )\n}\n","type State = {\n  ratingValue: number | null\n  hoverValue: number | null\n  hoverIndex: number\n  valueIndex: number\n}\n\ntype Action =\n  | { type: 'PointerMove'; payload: number | null; index: number }\n  | { type: 'PointerLeave' }\n  | { type: 'MouseClick'; payload: number }\n\nexport function reducer(state: State, action: Action): State {\n  switch (action.type) {\n    case 'PointerMove':\n      return {\n        ...state,\n        hoverValue: action.payload,\n        hoverIndex: action.index\n      }\n\n    case 'PointerLeave':\n      return {\n        ...state,\n        ratingValue: state.ratingValue,\n        hoverIndex: 0,\n        hoverValue: null\n      }\n\n    case 'MouseClick':\n      return {\n        ...state,\n        valueIndex: state.hoverIndex,\n        ratingValue: action.payload\n      }\n\n    default:\n      return state\n  }\n}\n","import {\n  useMemo,\n  useReducer,\n  useCallback,\n  Fragment,\n  ReactNode,\n  CSSProperties,\n  MouseEvent,\n  PointerEvent,\n  useEffect\n} from 'react'\nimport { StarIcon, StarIconProps } from './StarIcon'\nimport { reducer } from '../reducer'\nimport css from '../style.module.css'\n\nexport interface RatingProps extends StarIconProps {\n  /** Handles the returned rating value */\n  onClick?: (value: number, index: number, event?: MouseEvent<HTMLSpanElement>) => void\n  /** onPointerMove callback function with `hover`, `index` alongside `event` values passed */\n  onPointerMove?: (value: number, index: number, event: PointerEvent<HTMLSpanElement>) => void\n  /** onPointerEnter callback function */\n  onPointerEnter?: (event: PointerEvent<HTMLSpanElement>) => void\n  /** onPointerLeave callback function */\n  onPointerLeave?: (event: PointerEvent<HTMLSpanElement>) => void\n  /** Set initial value */\n  initialValue?: number\n  /** Number of the icons */\n  iconsCount?: number\n  /** Read only mode */\n  readonly?: boolean\n  /** Add a group of icons */\n  customIcons?: {\n    icon: ReactNode\n  }[]\n  /** RTL mode */\n  rtl?: boolean\n  /** Enable a fractional rate (half icon) */\n  allowFraction?: boolean\n  /** Enable unconstrained fractions */\n  fullFraction?: boolean\n  /** Multiply the default value by this amount */\n  multiplier?: number\n  snap?: number\n  /** Snap to increments of this amount */\n  /** Enable / Disable hover effect on empty icons */\n  allowHover?: boolean\n  /** Enable / Disable hover effect on filled icons */\n  disableFillHover?: boolean\n  /** Enable / Disable transition effect on mouse hover */\n  transition?: boolean\n  /** Applied to the `main` span */\n  className?: string\n  /** Inline style applied to the `main` span */\n  style?: CSSProperties\n\n  /** Custom fill icon SVG */\n  fillIcon?: ReactNode | null\n  /** Filled icons color */\n  fillColor?: string\n  /** Array of string to add color range */\n  fillColorArray?: string[]\n  /** Inline style applied to `filled-icons` icon span  */\n  fillStyle?: CSSProperties\n  /** Filled icons `span` className */\n  fillClassName?: string\n\n  /** Custom empty icon SVG */\n  emptyIcon?: ReactNode | null\n  /** Empty icons color */\n  emptyColor?: string\n  /** Inline style applied to `empty-icons` span  */\n  emptyStyle?: CSSProperties\n  /** ٌُEmpty icons `span` className */\n  emptyClassName?: string\n\n  /** Enable / Disable HTML`title` Tag */\n  allowTitleTag?: boolean\n  /** Show a tooltip with live values */\n  showTooltip?: boolean\n  /** Initial tooltip text if there is no rating value */\n  tooltipDefaultText?: string\n  /** Array of strings that will show inside the tooltip */\n  tooltipArray?: string[]\n  /** Inline style applied to the `tooltip` span */\n  tooltipStyle?: CSSProperties\n  /** Tooltip CSS className */\n  tooltipClassName?: string\n  /** Separator word in a title of a rating star `(1 out of 5)` */\n  titleSeparator?: string\n}\n\n/**\n * Check for touch devices\n * @returns `boolean`\n */\nfunction isTouchDevice() {\n  return (\n    (typeof window !== 'undefined' && window.matchMedia('(pointer: coarse)').matches) ||\n    'ontouchstart' in window ||\n    (typeof navigator !== 'undefined' && navigator.maxTouchPoints > 0)\n  )\n}\n\nexport function Rating({\n  onClick,\n  onPointerMove,\n  onPointerEnter,\n  onPointerLeave,\n  initialValue = 0,\n  iconsCount = 5,\n  size = 40,\n  readonly = false,\n  rtl = false,\n  customIcons = [],\n  allowFraction = false,\n  fullFraction = false,\n  multiplier = 1,\n  snap = 0,\n  style,\n  className = 'react-simple-star-rating',\n  transition = false,\n\n  allowHover = true,\n  disableFillHover = false,\n\n  fillIcon = null,\n  fillColor = '#ffbc0b',\n  fillColorArray = [],\n  fillStyle,\n  fillClassName = 'filled-icons',\n\n  emptyIcon = null,\n  emptyColor = '#cccccc',\n  emptyStyle,\n  emptyClassName = 'empty-icons',\n\n  allowTitleTag = true,\n  showTooltip = false,\n  tooltipDefaultText = 'Your Rate',\n  tooltipArray = [],\n  tooltipStyle,\n  tooltipClassName = 'react-simple-star-rating-tooltip',\n\n  SVGclassName = 'star-svg',\n  titleSeparator = 'out of',\n  SVGstyle,\n  SVGstorkeWidth = 0,\n  SVGstrokeColor = 'currentColor'\n}: RatingProps) {\n  const [{ ratingValue, hoverValue, hoverIndex, valueIndex }, dispatch] = useReducer(reducer, {\n    hoverIndex: 0,\n    valueIndex: 0,\n    ratingValue: initialValue,\n    hoverValue: null\n  })\n\n  useEffect(() => {\n    if (initialValue) dispatch({ type: 'MouseClick', payload: 0 })\n  }, [initialValue])\n\n  const totalIcons = useMemo(() => (allowFraction ? iconsCount * 2 : iconsCount), [allowFraction, iconsCount])\n\n  // Convert local rating value to precentage\n  const localRating = useMemo(() => {\n    if (multiplier) initialValue /= multiplier\n    if (initialValue > totalIcons) return 0\n\n    // Check for a decimal value\n    if (!allowFraction && Math.floor(initialValue) !== initialValue) {\n      return Math.ceil(initialValue) * 2 * 10\n    }\n\n    if (fullFraction) return (initialValue / iconsCount) * 100\n    return Math.round((initialValue / iconsCount) * 100)\n  }, [allowFraction, initialValue, iconsCount, totalIcons])\n\n  const localRatingIndex = useMemo(() => (allowFraction ? initialValue * 2 - 1 : initialValue - 1) || 0, [\n    allowFraction,\n    initialValue\n  ])\n\n  const renderValue = useCallback(\n    (value: number) => {\n      let val = (iconsCount % 2 !== 0 ? value / 2 / 10 : (value * iconsCount) / 100)\n      if (multiplier !== 1) return Math.round(val * multiplier)\n      return val\n    },\n    [iconsCount]\n  )\n\n  const handlePointerMove = (event: PointerEvent<HTMLSpanElement>) => {\n    const { clientX, currentTarget } = event\n    // Get main span element position and width\n    const { left, right, width } = currentTarget.children[0].getBoundingClientRect()\n\n    // Handle RTL\n    let positionX = rtl ? right - clientX : clientX - left\n    if (positionX > width) positionX = width\n\n    // Get current pointer position while moves over the icons\n    let currentValue = totalIcons\n    const iconWidth = Math.round(width / totalIcons)\n\n    for (let i = 0; i <= totalIcons; i = i + 1) {\n      if (positionX <= iconWidth * i) {\n        if (i === 0 && positionX < iconWidth) currentValue = 0\n        else currentValue = i\n        break\n      }\n    }\n\n    const index = currentValue - 1\n\n    if (currentValue > 0) {\n      // Set value and index state\n      if (fullFraction) {\n        let value = (positionX * 100) / width\n        if (snap) value = Math.round(value / 5) * 5\n        dispatch({ type: 'PointerMove', payload: value, index })\n      } else {\n        dispatch({ type: 'PointerMove', payload: (currentValue * 100) / totalIcons, index })\n      }\n\n      if (onPointerMove) {\n        if (hoverValue) onPointerMove(renderValue(hoverValue), index, event)\n      }\n    }\n  }\n\n  const handlePointerEnter = (event: PointerEvent<HTMLSpanElement>) => {\n    if (onPointerEnter) onPointerEnter(event)\n    // Enable only on touch devices\n    if (!isTouchDevice()) return\n\n    handlePointerMove(event)\n  }\n\n  const handleClick = (event?: MouseEvent<HTMLSpanElement>) => {\n    if (hoverValue) {\n      dispatch({ type: 'MouseClick', payload: hoverValue })\n      if (onClick) onClick(renderValue(hoverValue), hoverIndex, event)\n    }\n  }\n\n  const handlePointerLeave = (event: PointerEvent<HTMLSpanElement>) => {\n    if (isTouchDevice()) handleClick()\n\n    dispatch({ type: 'PointerLeave' })\n    if (onPointerLeave) onPointerLeave(event)\n  }\n\n  const valuePercentage = useMemo(() => {\n    if (allowHover) {\n      if (disableFillHover) {\n        const currentValue = (ratingValue && ratingValue) || localRating\n        return hoverValue && hoverValue > currentValue ? hoverValue : currentValue\n      }\n      return (hoverValue && hoverValue) || (ratingValue && ratingValue) || localRating\n    }\n\n    return (ratingValue && ratingValue) || localRating\n  }, [allowHover, disableFillHover, hoverValue, ratingValue, localRating])\n\n  useEffect(() => {\n    if (tooltipArray.length > totalIcons) {\n      console.error('tooltipArray Array length is bigger then Icons Count length.')\n    }\n  }, [tooltipArray.length, totalIcons])\n\n  const ratingArray = useCallback(\n    (array: string[]) => {\n      return (\n        (hoverValue && array[hoverIndex]) ||\n        (ratingValue && array[valueIndex]) ||\n        (initialValue && array[localRatingIndex])\n      )\n    },\n    [hoverValue, hoverIndex, ratingValue, valueIndex, initialValue, localRatingIndex]\n  )\n\n  const ratingRenderValues = useMemo(() => {\n    return (\n      (hoverValue && renderValue(hoverValue)) ||\n      (ratingValue && renderValue(ratingValue)) ||\n      (initialValue && renderValue(localRating))\n    )\n  }, [hoverValue, renderValue, ratingValue, initialValue, localRating])\n\n  return (\n    <span className={css.starRatingWrap} style={{ direction: `${rtl ? 'rtl' : 'ltr'}` }}>\n      <span\n        className={`${css.simpleStarRating} ${className}`}\n        style={{\n          cursor: readonly ? '' : 'pointer',\n          ...style\n        }}\n        onPointerMove={readonly ? undefined : handlePointerMove}\n        onPointerEnter={readonly ? undefined : handlePointerEnter}\n        onPointerLeave={readonly ? undefined : handlePointerLeave}\n        onClick={readonly ? undefined : handleClick}\n        aria-hidden='true'\n      >\n        <span\n          className={`${css.emptyIcons} ${emptyClassName}`}\n          style={{\n            color: emptyColor,\n            ...emptyStyle\n          }}\n        >\n          {[...Array(iconsCount)].map((_, index) => (\n            <Fragment key={index}>\n              {customIcons[index]?.icon || emptyIcon || (\n                <StarIcon\n                  SVGclassName={SVGclassName}\n                  SVGstyle={SVGstyle}\n                  SVGstorkeWidth={SVGstorkeWidth}\n                  SVGstrokeColor={SVGstrokeColor}\n                  size={size}\n                />\n              )}\n            </Fragment>\n          ))}\n        </span>\n\n        <span\n          className={`${css.fillIcons} ${fillClassName}`}\n          style={{\n            [rtl ? 'right' : 'left']: 0,\n            color: ratingArray(fillColorArray) || fillColor,\n            transition: transition ? 'width .2s ease, color .2s ease' : '',\n            width: `${valuePercentage}%`,\n            ...fillStyle\n          }}\n          title={allowTitleTag ? `${ratingRenderValues} ${titleSeparator} ${iconsCount}` : undefined}\n        >\n          {[...Array(iconsCount)].map((_, index) => (\n            <Fragment key={index}>\n              {customIcons[index]?.icon || fillIcon || (\n                <StarIcon\n                  SVGclassName={SVGclassName}\n                  SVGstyle={SVGstyle}\n                  SVGstorkeWidth={SVGstorkeWidth}\n                  SVGstrokeColor={SVGstrokeColor}\n                  size={size}\n                />\n              )}\n            </Fragment>\n          ))}\n        </span>\n      </span>\n\n      {showTooltip && (\n        <span\n          className={`${css.tooltip} ${tooltipClassName}`}\n          style={{\n            [rtl ? 'marginRight' : 'marginLeft']: 20,\n            ...tooltipStyle\n          }}\n        >\n          {(tooltipArray.length > 0 ? ratingArray(tooltipArray) : ratingRenderValues) || tooltipDefaultText}\n        </span>\n      )}\n    </span>\n  )\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n"],"names":["StarIcon","_a","_b","size","_c","SVGstrokeColor","_d","SVGstorkeWidth","_e","SVGclassName","SVGstyle","_jsx","className","style","stroke","fill","strokeWidth","viewBox","width","height","xmlns","jsx","d","reducer","state","action","type","__assign","hoverValue","payload","hoverIndex","index","ratingValue","valueIndex","isTouchDevice","window","matchMedia","matches","navigator","maxTouchPoints","css","ref","insertAt","document","head","getElementsByTagName","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","onClick","onPointerMove","onPointerEnter","onPointerLeave","initialValue","iconsCount","_f","_g","readonly","_h","rtl","_j","customIcons","_k","allowFraction","_l","fullFraction","_m","multiplier","_o","snap","_p","_q","transition","_r","allowHover","_s","disableFillHover","_t","fillIcon","_u","fillColor","_v","fillColorArray","fillStyle","_w","fillClassName","_x","emptyIcon","_y","emptyColor","emptyStyle","_z","emptyClassName","_0","allowTitleTag","_1","showTooltip","_2","tooltipDefaultText","_3","tooltipArray","tooltipStyle","_4","tooltipClassName","_5","_6","titleSeparator","_7","_8","_9","useReducer","_10","dispatch","useEffect","totalIcons","useMemo","localRating","Math","floor","round","ceil","localRatingIndex","renderValue","useCallback","value","val","handlePointerMove","event","clientX","currentTarget","children","getBoundingClientRect","left","right","positionX","currentValue","iconWidth","i","handleClick","valuePercentage","length","console","error","ratingArray","array","ratingRenderValues","_jsxs","jsxs","direction","concat","cursor","undefined","color","__spreadArray","Array","map","_","Fragment","icon","title"],"mappings":"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"}